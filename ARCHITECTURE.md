# ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ GanttChart Web

## ๐๏ธ ะะฑัะฐั ะฐััะธัะตะบัััะฐ

ะัะธะปะพะถะตะฝะธะต ะฟะพัััะพะตะฝะพ ะฝะฐ React + TypeScript ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ััะฝะบัะธะพะฝะฐะปัะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ ะธ ััะบะพะฒ.

### ะกะปะพะธ ะฟัะธะปะพะถะตะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         UI Layer (Pages)             โ
โ  ClassesPage, ClassDetailsPage, etc  โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโ
โ      Business Logic (Hooks)        โ
โ  useAuth, useClasses, useProject    โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโ
โ      API Layer (api/)               โ
โ  classes.ts, projects.ts, teams.ts  โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
               โ
โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโ
โ      Backend API                    โ
โ  http://localhost:5050/api          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะตัะฐะปัะฝะฐั ััััะบัััะฐ

### 1. API Layer (`src/api/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะฝะบะฐะฟััะปะธััะตั ะฒัะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั ะฑัะบะตะฝะด API.

**ะัะธะฝัะธะฟั:**
- ะะดะธะฝ ัะฐะนะป ะฝะฐ ะพะดะฝั ัััะฝะพััั (classes, projects, teams)
- ะัะต ัะธะฟั ะดะฐะฝะฝัั ะพะฟัะตะดะตะปะตะฝั ััะดะพะผ ั API ััะฝะบัะธัะผะธ
- ะัะฟะพะปัะทัะตััั ะฝะฐัััะพะตะฝะฝัะน Axios instance ะธะท `axios.ts`
- ะัะต ััะฝะบัะธะธ ะฐัะธะฝััะพะฝะฝัะต ะธ ะฒะพะทะฒัะฐัะฐัั ัะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต

**ะัะธะผะตั:**
```typescript
// src/api/classes.ts
export type ClassView = { id: string; title: string; ... };
export async function getClassDetails(id: string): Promise<ClassDetails> { ... }
```

### 2. Hooks Layer (`src/hooks/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะธะทะฝะตั-ะปะพะณะธะบะฐ ะธ ัะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ ัััะฐะฝะธั.

**ะัะธะฝัะธะฟั:**
- ะะดะธะฝ ััะบ ะฝะฐ ะพะดะฝั ัััะฐะฝะธัั/ััะฝะบัะธะพะฝะฐะปัะฝะพััั
- ะฅัะบะธ ะธะฝะบะฐะฟััะปะธัััั ัะพััะพัะฝะธะต ะธ ะปะพะณะธะบั ัะฐะฑะพัั ั ะดะฐะฝะฝัะผะธ
- ะะพะทะฒัะฐัะฐัั ัะพะปัะบะพ ะฝะตะพะฑัะพะดะธะผัะต ะดะฐะฝะฝัะต ะธ ััะฝะบัะธะธ
- ะะฑัะฐะฑะฐััะฒะฐัั ะพัะธะฑะบะธ ะฒะฝัััะธ ัะตะฑั

**ะัะธะผะตั:**
```typescript
// src/hooks/useProject.ts
export function useProject({ projectId, classId, user }) {
  // ะัั ะปะพะณะธะบะฐ ะทะฐะณััะทะบะธ, ะพะฑะฝะพะฒะปะตะฝะธั, ัะฟัะฐะฒะปะตะฝะธั ะฟัะพะตะบัะพะผ
  return { project, teams, canManage, handleCreateTeam, ... };
}
```

### 3. Pages Layer (`src/pages/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะกััะฐะฝะธัั ะฟัะธะปะพะถะตะฝะธั, ัะพะปัะบะพ UI ะธ ะบะพะผะฟะพะทะธัะธั.

**ะัะธะฝัะธะฟั:**
- ะะธะฝะธะผะฐะปัะฝะฐั ะปะพะณะธะบะฐ, ัะพะปัะบะพ UI ัะพััะพัะฝะธะต (ะผะพะดะฐะปะบะธ, ัะพัะผั)
- ะัะฟะพะปัะทััั ััะบะธ ะดะปั ะฟะพะปััะตะฝะธั ะดะฐะฝะฝัั ะธ ะฑะธะทะฝะตั-ะปะพะณะธะบะธ
- ะะฑัะฐะฑะฐััะฒะฐัั ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะต ะดะตะนััะฒะธั (ะบะปะธะบะธ, ะพัะฟัะฐะฒะบะฐ ัะพัะผ)
- ะะพะบะฐะทัะฒะฐัั ะพัะธะฑะบะธ ะฟะพะปัะทะพะฒะฐัะตะปั

**ะัะธะผะตั:**
```typescript
// src/pages/ProjectPage.tsx
export default function ProjectPage() {
  const { user } = useAuth();
  const { project, teams, handleCreateTeam } = useProject({ ... });
  // ะขะพะปัะบะพ UI ะปะพะณะธะบะฐ
}
```

### 4. Components Layer (`src/components/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะตัะตะธัะฟะพะปัะทัะตะผัะต UI ะบะพะผะฟะพะฝะตะฝัั.

**ะัะธะฝัะธะฟั:**
- ะะพะผะฟะพะฝะตะฝัั ะฝะต ะทะฝะฐัั ะพ ะฑะธะทะฝะตั-ะปะพะณะธะบะต
- ะะพะปััะฐัั ะดะฐะฝะฝัะต ัะตัะตะท props
- ะฃะฟัะฐะฒะปััั ัะพะปัะบะพ ัะฒะพะธะผ ะฒะฝัััะตะฝะฝะธะผ ัะพััะพัะฝะธะตะผ (ะตัะปะธ ะฝัะถะฝะพ)
- ะะพะณัั ะฑััั "ัะผะฝัะผะธ" (ะผะพะดะฐะปะบะธ ั ะปะพะณะธะบะพะน) ะธะปะธ "ะณะปัะฟัะผะธ" (Button, Input)

### 5. Utils Layer (`src/utils/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ ะฑะตะท ะฟะพะฑะพัะฝัั ัััะตะบัะพะฒ.

**ะัะธะฝัะธะฟั:**
- ะงะธัััะต ััะฝะบัะธะธ (pure functions)
- ะะต ะทะฐะฒะธััั ะพั React
- ะะตะณะบะพ ัะตััะธัััััั
- ะะตัะตะธัะฟะพะปัะทััััั ะฒ ัะฐะทะฝัั ะผะตััะฐั

**ะัะธะผะตัั:**
- `errorHandling.ts` - ะพะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- `permissions.ts` - ะฟัะพะฒะตัะบะฐ ะฟัะฐะฒ ะดะพัััะฟะฐ

### 6. Types Layer (`src/types/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะฆะตะฝััะฐะปะธะทะพะฒะฐะฝะฝัะต ัะธะฟั ะดะปั ะฒัะตะณะพ ะฟัะธะปะพะถะตะฝะธั.

**ะัะธะฝัะธะฟั:**
- ะะฑัะธะต ัะธะฟั, ะธัะฟะพะปัะทัะตะผัะต ะฒ ะฝะตัะบะพะปัะบะธั ะผะตััะฐั
- ะขะธะฟั, ัะฟะตัะธัะธัะฝัะต ะดะปั API, ะพััะฐัััั ะฒ `api/`
- ะญะบัะฟะพััะธัััััั ัะตัะตะท `index.ts` ะดะปั ัะดะพะฑะฝะพะณะพ ะธะผะฟะพััะฐ

### 7. Constants Layer (`src/constants/`)

**ะะฐะทะฝะฐัะตะฝะธะต:** ะะพะฝััะฐะฝัั ะฟัะธะปะพะถะตะฝะธั.

**ะัะธะฝัะธะฟั:**
- ะัะต ะผะฐะณะธัะตัะบะธะต ัะธัะปะฐ ะธ ัััะพะบะธ ะฒัะฝะตัะตะฝั ะฒ ะบะพะฝััะฐะฝัั
- ะะตะณะบะพ ะธะทะผะตะฝััั ะฒ ะพะดะฝะพะผ ะผะตััะต
- ะขะธะฟะธะทะธัะพะฒะฐะฝั ัะตัะตะท TypeScript

## ๐ ะะพัะพะบะธ ะดะฐะฝะฝัั

### ะะฐะณััะทะบะฐ ะดะฐะฝะฝัั

```
User Action
    โ
Page Component
    โ
Custom Hook (useProject, useClasses, etc.)
    โ
API Function (getProjectById, getClassProjects, etc.)
    โ
Backend API
    โ
Response
    โ
Hook updates state
    โ
Page re-renders with new data
```

### ะะฑะฝะพะฒะปะตะฝะธะต ะดะฐะฝะฝัั

```
User Action (click, submit)
    โ
Page Handler (onCreateTeam, onEditProject)
    โ
Hook Function (handleCreateTeam, handleUpdateProject)
    โ
API Call (createTeam, updateProject)
    โ
Backend API
    โ
Success/Error
    โ
Hook updates state or throws error
    โ
Page shows success message or error
```

## ๐ ะกะธััะตะผะฐ ะฟัะฐะฒ ะดะพัััะฟะฐ

### ะะตัะฐััะธั ะฟัะฐะฒ

```
System Admin (role = 1)
  โโ ะะพะปะฝัะน ะดะพัััะฟ ะบะพ ะฒัะตะผ ะบะปะฐััะฐะผ
  โโ ะะพะถะตั ัะดะฐะปััั ะบะปะฐััั
  โโ ะะพะถะตั ัะฟัะฐะฒะปััั ะฒัะตะผะธ ะฟัะพะตะบัะฐะผะธ

Teacher (roleInClass = 1)
  โโ ะะพะถะตั ัะฟัะฐะฒะปััั ะบะปะฐััะพะผ (ัะตะดะฐะบัะธัะพะฒะฐัั, ะดะพะฑะฐะฒะปััั ะฟัะพะตะบัั)
  โโ ะะพะถะตั ัะพะทะดะฐะฒะฐัั ะบะพะผะฐะฝะดั
  โโ ะะพะถะตั ะดะพะฑะฐะฒะปััั ััะฐััะฝะธะบะพะฒ ะฒ ะบะพะผะฐะฝะดั
  โโ ะะพะถะตั ัะพะทะดะฐะฒะฐัั ะฟัะธะณะปะฐัะตะฝะธั

Student (roleInClass = 0)
  โโ ะะธะดะธั ัะพะปัะบะพ ัะฒะพะธ ะฟัะพะตะบัั (ะณะดะต ัะพััะพะธั ะฒ ะบะพะผะฐะฝะดะต)
  โโ ะะพะถะตั ะฟัะพัะผะฐััะธะฒะฐัั ัะฒะพั ะบะพะผะฐะฝะดั
  โโ ะะต ะผะพะถะตั ัะตะดะฐะบัะธัะพะฒะฐัั ะฝะธัะตะณะพ
```

### ะัะพะฒะตัะบะฐ ะฟัะฐะฒ

ะัะพะฒะตัะบะฐ ะฟัะพะธััะพะดะธั ะฒ ะดะฒัั ะผะตััะฐั:

1. **ะะฐ ััะพะฝัะตะฝะดะต** - ัะตัะตะท `canManageClass()` ะฒ `utils/permissions.ts`
   - ะัะฟะพะปัะทัะตััั ะดะปั ะฟะพะบะฐะทะฐ/ัะบัััะธั UI ัะปะตะผะตะฝัะพะฒ
   - ะะฟัะตะดะตะปัะตั, ะบะฐะบะธะต API ะฒัะทัะฒะฐัั

2. **ะะฐ ะฑัะบะตะฝะดะต** - ัะตัะตะท ะฐะฒัะพัะธะทะฐัะธั ะธ ะฟัะพะฒะตัะบั ัะพะปะตะน
   - ะัะบะตะฝะด ะฒัะตะณะดะฐ ะฟัะพะฒะตััะตั ะฟัะฐะฒะฐ
   - ะะพะถะตั ะฒะตัะฝััั 403 (Forbidden) ะตัะปะธ ะฟัะฐะฒ ะฝะตั

## ๐จ UI/UX ะฟะฐััะตัะฝั

### ะกะพััะพัะฝะธั ะทะฐะณััะทะบะธ

ะัะต ัััะฐะฝะธัั ะฟะพะบะฐะทัะฒะฐัั ัะพััะพัะฝะธะต ะทะฐะณััะทะบะธ:
```typescript
if (loading) return <LoadingState />;
if (error) return <ErrorState error={error} />;
return <Content />;
```

### ะะพะดะฐะปัะฝัะต ะพะบะฝะฐ

ะะพะดะฐะปัะฝัะต ะพะบะฝะฐ ัะฟัะฐะฒะปััััั ัะตัะตะท ะปะพะบะฐะปัะฝะพะต ัะพััะพัะฝะธะต:
```typescript
const [modalOpen, setModalOpen] = useState(false);
```

### ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

ะัะต ะพัะธะฑะบะธ ะพะฑัะฐะฑะฐััะฒะฐัััั ะตะดะธะฝะพะพะฑัะฐะทะฝะพ:
```typescript
try {
  await someAction();
  alert("ะฃัะฟะตัะฝะพ!");
} catch (err) {
  alert(getErrorMessage(err));
}
```

## ๐ ะกะพะณะปะฐัะตะฝะธั ะฟะพ ะบะพะดั

### ะะผะตะฝะพะฒะฐะฝะธะต

- **ะะพะผะฟะพะฝะตะฝัั:** PascalCase (`ProjectPage`, `CreateClassModal`)
- **ะฅัะบะธ:** camelCase ั ะฟัะตัะธะบัะพะผ `use` (`useAuth`, `useProject`)
- **ะคัะฝะบัะธะธ:** camelCase (`handleCreateTeam`, `getErrorMessage`)
- **ะขะธะฟั:** PascalCase (`CurrentUser`, `ProjectStatus`)
- **ะะพะฝััะฐะฝัั:** UPPER_SNAKE_CASE (`PROJECT_STATUS_LABELS`)

### ะกัััะบัััะฐ ัะฐะนะปะพะฒ

1. ะะผะฟะพััั (ะฒะฝะตัะฝะธะต ะฑะธะฑะปะธะพัะตะบะธ)
2. ะะผะฟะพััั (ะฒะฝัััะตะฝะฝะธะต ะผะพะดัะปะธ)
3. ะขะธะฟั (ะตัะปะธ ะปะพะบะฐะปัะฝัะต)
4. ะะพะผะฟะพะฝะตะฝั/ะฅัะบ/ะคัะฝะบัะธั
5. ะญะบัะฟะพัั

### ะะพะผะผะตะฝัะฐัะธะธ

- ะัะฟะพะปัะทััััั JSDoc ะบะพะผะผะตะฝัะฐัะธะธ ะดะปั API ััะฝะบัะธะน
- ะะฐะถะฝัะต ะปะพะณะธัะตัะบะธะต ะฑะปะพะบะธ ะบะพะผะผะตะฝัะธัััััั
- TODO ะบะพะผะผะตะฝัะฐัะธะธ ะดะปั ะฑัะดััะธั ัะปัััะตะฝะธะน

## ๐ ะะฐััะธัะตะฝะธะต ะฟัะพะตะบัะฐ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะน ัััะฐะฝะธัั

1. ะกะพะทะดะฐัั ะบะพะผะฟะพะฝะตะฝั ะฒ `src/pages/`
2. ะะพะฑะฐะฒะธัั ัะพัั ะฒ `src/App.tsx`
3. ะกะพะทะดะฐัั ััะบ ะฒ `src/hooks/` (ะตัะปะธ ะฝัะถะฝะฐ ัะปะพะถะฝะฐั ะปะพะณะธะบะฐ)
4. ะะพะฑะฐะฒะธัั API ััะฝะบัะธะธ ะฒ ัะพะพัะฒะตัััะฒัััะธะน ัะฐะนะป ะฒ `src/api/`

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ API

1. ะะพะฑะฐะฒะธัั ััะฝะบัะธะธ ะฒ ัะพะพัะฒะตัััะฒัััะธะน ัะฐะนะป ะฒ `src/api/`
2. ะะฟัะตะดะตะปะธัั ัะธะฟั ะดะปั ะทะฐะฟัะพัะพะฒ/ะพัะฒะตัะพะฒ
3. ะัะฟะพะปัะทะพะฒะฐัั ะฝะฐัััะพะตะฝะฝัะน `api` instance ะธะท `axios.ts`

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะบะพะผะฟะพะฝะตะฝัะฐ

1. ะกะพะทะดะฐัั ัะฐะนะป ะฒ `src/components/`
2. ะะฟัะตะดะตะปะธัั props ัะตัะตะท TypeScript interface
3. ะญะบัะฟะพััะธัะพะฒะฐัั ะบะฐะบ default ะธะปะธ named export

## ๐ ะัะปะฐะดะบะฐ

### ะะพะณะธัะพะฒะฐะฝะธะต

- `console.log()` ะดะปั ะพัะปะฐะดะบะธ ะดะฐะฝะฝัั
- `console.error()` ะดะปั ะพัะธะฑะพะบ
- `console.warn()` ะดะปั ะฟัะตะดัะฟัะตะถะดะตะฝะธะน

### ะัะพะฒะตัะบะฐ API

- ะัะบัะพะนัะต DevTools โ Network
- ะัะพะฒะตัััะต ะทะฐะฟัะพัั ะบ `/api/*`
- ะัะพะฒะตัััะต ััะฐััั ะพัะฒะตัะพะฒ ะธ ัะตะปะฐ ะทะฐะฟัะพัะพะฒ/ะพัะฒะตัะพะฒ

### ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั

- ะัะฟะพะปัะทัะนัะต React DevTools
- ะัะพะฒะตััะนัะต ัะพััะพัะฝะธะต ะบะพะผะฟะพะฝะตะฝัะพะฒ ะธ ััะบะพะฒ
- ะกะปะตะดะธัะต ะทะฐ ัะต-ัะตะฝะดะตัะฐะผะธ

